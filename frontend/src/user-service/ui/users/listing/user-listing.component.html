<div class="row user-listing m-0">
	<div class="col-md-8 offset-md-2">
		<h4>{{'USER-SERVICE.USER-LISTING.TITLE' | translate}}</h4>
		<div class="col-12 p-0 filter-row">
			<app-user-settings-selector [key]="userSettingsKey" [lookup]="lookup"
				(onSettingSelected)="changeSetting($event)" [autoSelectUserSettings]="autoSelectUserSettings">
			</app-user-settings-selector>
		</div>
		<div class="col-12 p-0 filter-row">
			<app-user-listing-filters [(filter)]="lookup" (filterChange)="filterChanged($event)">
			</app-user-listing-filters>
		</div>
		<app-listing [rows]="gridRows" [columns]="gridColumns" [visibleColumns]="visibleColumns" [count]="totalElements"
			[offset]="currentPageNumber" [limit]="lookup.page.size" [defaultSort]="lookup.order?.items"
			[externalSorting]="true" (rowActivated)="onRowActivated($event)" (pageLoad)="onPageLoad($event)"
			(columnSort)="onColumnSort($event)" (columnsChanged)="onColumnsChanged($event)">
		</app-listing>
		<button *ngIf="authService.hasPermission(authService.permissionEnum.EditUser)" mat-fab
			class="mat-fab-bottom-right" matTooltip="{{'COMMONS.ACTIONS.NEW' | translate}}" (click)="onNewItem()">
			<mat-icon class="mat-24">add</mat-icon>
		</button>

		<button mat-fab class="mat-fab-file-bottom"
			matTooltip="{{'USER-SERVICE.USER-LISTING.GENERATE-REPORT' | translate}}" (click)="createBlueprintRequest()">
			<mat-icon class="mat-24">file_copy</mat-icon>
		</button>
		<button mat-fab class="mat-fab-file-bottom-right" matTooltip="{{'COMMONS.ACTIONS.NEW' | translate}}"
			(click)="createAndDownloadBlueprintRequest()">
			<mat-icon class="mat-24">content_copy</mat-icon>
		</button>
		<button *ngIf="authService.hasPermission(authService.permissionEnum.EditUser)" mat-fab
			class="mat-fab-bottom-right" (click)="onNewItem()">
			<mat-icon class="mat-24">add</mat-icon>
		</button>
	</div>
</div>