<div class="row external-token-listing-filters">
	<div class="col-12 p-0">
		<div class="row mb-3">
			<div class="col-3 align-self-center">
				<button class="external-token-filters-btn" mat-stroked-button [matMenuTriggerFor]="filtersMenu">
					<i class="fa fa-2x fa-filter filter-icon"></i>
					<span>{{'APP.EXTERNAL-TOKEN-LISTING.FILTER.SEARCH-FILTER' | translate}}</span>
					<span class="opened-filters">{{countOpenFilters()}}</span>
					<i class="material-icons">keyboard_arrow_down</i>
				</button>
			</div>
			<app-text-filter *ngIf="filterSelections['likeOption']" class="col-6 text-filter" [(value)]="filter.like"
				[disableTransform]="false" (valueChange)="onFilterChange()"></app-text-filter>

			<mat-form-field class="col-3" *ngIf="filterSelections['expiresAtFrom']">
				<mat-label>
					{{'APP.EXTERNAL-TOKEN-LISTING.FILTER.EXPIRES-AT-FROM' | translate}}
				</mat-label>
				<mat-datetimepicker-toggle [for]="expiresAtFromDatetimePicker" matSuffix></mat-datetimepicker-toggle>
				<mat-datetimepicker #expiresAtFromDatetimePicker type="datetime" openOnFocus="true" timeInterval="5"></mat-datetimepicker>
				<input matInput [matDatetimepicker]="expiresAtFromDatetimePicker" autocomplete="false" (dateChange)="onFilterChange()"  [(ngModel)]="filter.expiresAtFrom">
			</mat-form-field>
			<mat-form-field class="col-3" *ngIf="filterSelections['expiresAtTo']">
				<mat-label>
					{{'APP.EXTERNAL-TOKEN-LISTING.FILTER.EXPIRES-AT-TO' | translate}}
				</mat-label>
				<mat-datetimepicker-toggle [for]="expiresAtToDatetimePicker" matSuffix></mat-datetimepicker-toggle>
				<mat-datetimepicker #expiresAtToDatetimePicker type="datetime" openOnFocus="true" timeInterval="5"></mat-datetimepicker>
				<input matInput [matDatetimepicker]="expiresAtToDatetimePicker" autocomplete="false" (dateChange)="onFilterChange()"  [(ngModel)]="filter.expiresAtTo">
			</mat-form-field>
			<div class="col-3 d-flex align-items-center toggle-col" *ngIf="filterSelections['isActiveOption']">
				<mat-slide-toggle [(ngModel)]="isActive" class="toggle col-auto w-100">
					{{'APP.EXTERNAL-TOKEN-LISTING.FILTER.SHOW-INACTIVE' | translate}}
				</mat-slide-toggle>
			</div>
		</div>
	</div>
</div>
<mat-menu #filtersMenu="matMenu">
	<div class="filters-menu-container">
		<div class="filters-menu-header col-md-12">
			<button mat-flat-button class="col-auto mr-2 d-flex justify-content-start"
				(click)="$event.stopPropagation(); selectAll()">{{'APP.EXTERNAL-TOKEN-LISTING.FILTER.ALL-FILTERS' |
				translate}}</button>
			<button mat-flat-button class="col-auto mr-2 d-flex justify-content-start"
				(click)="$event.stopPropagation(); deselectAll() ">{{'APP.EXTERNAL-TOKEN-LISTING.FILTER.NO-FILTERS' |
				translate}}</button>
		</div>
		<div class="col-md-12 d-flex flex-row pt-3">
			<div class="col d-flex flex-column">
				<mat-checkbox class="filter-option" [(ngModel)]="filterSelections['likeOption']"
					(ngModelChange)="checkBoxChanged($event, 'like')" (click)="$event.stopPropagation()">
					{{'APP.EXTERNAL-TOKEN-LISTING.FILTER.LIKE' | translate}}</mat-checkbox>
				<mat-checkbox class="filter-option" [(ngModel)]="filterSelections['expiresAtFrom']"
					(ngModelChange)="checkBoxChanged($event, 'expiresAtFrom')" (click)="$event.stopPropagation()">
					{{'APP.EXTERNAL-TOKEN-LISTING.FILTER.EXPIRES-AT-FROM' | translate}}</mat-checkbox>
				<mat-checkbox class="filter-option" [(ngModel)]="filterSelections['expiresAtTo']"
						(ngModelChange)="checkBoxChanged($event, 'expiresAtTo')" (click)="$event.stopPropagation()">
						{{'APP.EXTERNAL-TOKEN-LISTING.FILTER.EXPIRES-AT-TO' | translate}}</mat-checkbox>
				<!--<mat-checkbox class="filter-option" [(ngModel)]="filterSelections['isActiveOption']"
					(ngModelChange)="checkBoxChanged($event, 'isActive')" (click)="$event.stopPropagation()">
					{{'APP.EXTERNAL-TOKEN-LISTING.FILTER.SHOW-INACTIVE' | translate}}</mat-checkbox>-->
			</div>
		</div>
	</div>
</mat-menu>
